{"version":3,"sources":["tmp/js/app.js"],"names":["fhgov","this","init","restoreConditionalInputs","enhanceAccessibleAutocomplete","element","document","querySelector","HTMLElement","click","modelLaOrganisationName","getElementById","accessibleAutocomplete","enhanceSelectElement","defaultValue","value","name","selectElement","modelVcsOrganisationName","setupLanguageAutocompleteWhenAddAnother","languageSelects","querySelectorAll","MutationObserver","mutationsList","observer","childListMutation","some","mutation","type","addedNodes","length","attributesMutation","attributeName","targetElement","target","tagName","toLowerCase","getAttribute","forEach","select","input","id","replace","addGovUkClasses","classList","contains","observe","childList","subtree","attributes","errorState","add","handleUpdatingLanguageAddAnother","addRemoveNodes","Array","from","concat","removedNodes","node","nodeName","item","index","label","textContent","button","container","window","addEventListener"],"mappings":"AAAA,SAASA,QACLC,KAAKC,KAAO,WACRC,IACAC,GACR,EACI,IAAID,EAA2B,WAC3B,MAAME,EAAUC,SAASC,cAAc,6BACnCF,aAAmBG,aACnBH,EAAQI,OAEpB,EAEQL,EAAgC,WAEhC,MAAMM,EAA0BJ,SAASK,eAAe,2BACpDD,GACAE,uBAAuBC,qBAAqB,CACxCC,aAAcJ,EAAwBK,MACtCC,KAAM,qBACNC,cAAeX,SAASC,cAAc,yBAI9C,MAAMW,EAA2BZ,SAASK,eAAe,4BACrDO,GACAN,uBAAuBC,qBAAqB,CACxCC,aAAcI,EAAyBH,MACvCC,KAAM,sBACNC,cAAeX,SAASC,cAAc,yBAGtD,CACA,CAKA,SAASY,wCAAwCd,GAC7C,KAAMA,aAAmBG,aACrB,OAEJ,MAAMY,EAAkBf,EAAQgB,iBAAiB,2BAkB7B,IAAIC,kBAAiB,CAACC,EAAeC,KACrD,MAAMC,EAAoBF,EAAcG,MAAKC,GAA8B,cAAlBA,EAASC,MAAwBD,EAASE,WAAWC,OAAS,IACjHC,EAAqBR,EAAcG,MAAKC,IAC1C,GAAsB,eAAlBA,EAASC,MAAoD,UAA3BD,EAASK,cAA2B,CACtE,MAAMC,EAAgBN,EAASO,OAC/B,MAA+C,UAAxCD,EAAcE,QAAQC,eAAoE,SAAvCH,EAAcI,aAAa,OACrG,CACY,OAAO,CAAK,KAQZZ,GAAqBM,IAErBX,EAAgBkB,SAAQ,SAAUC,GAC9B,MAAMC,EAAQlC,SAASK,eAAe4B,EAAOE,GAAGC,QAAQ,UAAW,KAEnE,IAAKF,EACD,OAGJG,gBAAgBH,EADGD,EAAOK,UAAUC,SAAS,uBAE7D,GACA,IAEgBC,QAAQzC,EAAS,CAAE0C,WAAW,EAAMC,SAAS,EAAMC,YAAY,IAC3E7B,EAAgBkB,SAAQ,SAAUC,GAC9B3B,uBAAuBC,qBAAqB,CACxCG,KAAM,eACNF,aAAc,GACdG,cAAesB,GAE3B,GACA,CACA,SAASI,gBAAgBH,EAAOU,GACvBV,EAAMI,UAAUC,SAAS,gBAC1BL,EAAMI,UAAUO,IAAI,eAEpBD,IAAeV,EAAMI,UAAUC,SAAS,uBACxCL,EAAMI,UAAUO,IAAI,qBAE5B,CAQA,SAASC,mCAoBL,MAAM5B,EAAW,IAAIF,kBAAiB,CAACC,EAAeC,KAClD,IAAK,MAAMG,KAAYJ,EAAe,CAClC,MAAM8B,EAAiBC,MAAMC,KAAK5B,EAASE,YAAY2B,OAAOF,MAAMC,KAAK5B,EAAS8B,eAC5D,cAAlB9B,EAASC,MAAyByB,EAAe3B,MAAKgC,GAA0B,aAAlBA,EAAKC,aAZ7DrD,SAASe,iBAAiB,yBAClCiB,SAAQ,CAACsB,EAAMC,KACjB,MAAMC,EAAQF,EAAKrD,cAAc,SAC7BuD,IACAA,EAAMC,YAAc,kBAAmBF,EAAQ,IAC/D,IAdsBvD,SAASe,iBAAiB,yBAClCiB,SAAQ,CAACsB,EAAMC,KACjB,MAAMG,EAASJ,EAAKrD,cAAc,kCAC9ByD,IACAA,EAAOD,YAAc,mBAAoBF,EAAQ,IACjE,IAoBA,KAEUI,EAAY3D,SAASK,eAAe,qBACtCsD,GACAzC,EAASsB,QAAQmB,EAAW,CAAElB,WAAW,EAAMC,SAAS,GAEhE,CA/GAkB,OAAOlE,MAAQ,IAAIA,MACnBM,SAAS6D,iBAAiB,oBAAoB,WAC1CD,OAAOlE,MAAME,MACjB,IAiHAiB,wCAAwC,MACxCiC","file":"app.js","sourcesContent":["function fhgov() {\n    this.init = function () {\n        restoreConditionalInputs();\n        enhanceAccessibleAutocomplete();\n    };\n    let restoreConditionalInputs = function () {\n        const element = document.querySelector(\"[data-conditional-active]\");\n        if (element instanceof HTMLElement) {\n            element.click();\n        }\n    };\n    //todo: replace these with the new full page autocomplete component\n    let enhanceAccessibleAutocomplete = function () {\n        //WhichLocalAuthority.cshtml && AddOrganisationWhichLocalAuthority.cshtml\n        const modelLaOrganisationName = document.getElementById('modelLaOrganisationName');\n        if (modelLaOrganisationName) {\n            accessibleAutocomplete.enhanceSelectElement({\n                defaultValue: modelLaOrganisationName.value,\n                name: 'LaOrganisationName',\n                selectElement: document.querySelector('#LaOrganisationName')\n            });\n        }\n        //WhichVcsOrganisation.cshtml\n        const modelVcsOrganisationName = document.getElementById('modelVcsOrganisationName');\n        if (modelVcsOrganisationName) {\n            accessibleAutocomplete.enhanceSelectElement({\n                defaultValue: modelVcsOrganisationName.value,\n                name: 'VcsOrganisationName',\n                selectElement: document.querySelector('#VcsOrganisationName')\n            });\n        }\n    };\n}\nwindow.fhgov = new fhgov();\ndocument.addEventListener('DOMContentLoaded', function () {\n    window.fhgov.init();\n});\nfunction setupLanguageAutocompleteWhenAddAnother(element) {\n    if (!(element instanceof HTMLElement)) {\n        return;\n    }\n    const languageSelects = element.querySelectorAll(\"select[id^='language-']\");\n    /*    console.log('enhancing ' + languageSelects.length + ' language selects');*/\n    // work around accessible-autocomplete not handling errors or using standard govuk styling classes\n    // there's a discussion about handling errors here...\n    // https://github.com/alphagov/accessible-autocomplete/issues/428\n    // but we've had to implement our own (hacky) solution by using MutationObserver\n    // and adding extra classes (with custom css) to the input element.\n    // we are observing the DOM for changes because enhanceSelectElement() ultimately\n    // calls render in Peact, which schedules an update to the DOM, rather than immediately updating the DOM.\n    // (if we forked the accessible-autocomplete component, we could use componentDidMount or useEffect instead).\n    // we also observe any changes to the class attribute of the text input elements,\n    // as any changes we make to the input element's class attribute will be overwritten by the component (on focus etc.).\n    // I was going to either package up this code into an exported function to ease reuse and maintanence,\n    // or fork the accessible-autocomplete preact component,\n    // but someone is adding official support today (2024-01-12) so we should be able to remove this soon!\n    // https://github.com/alphagov/accessible-autocomplete/pull/602\n    //todo: fix aria-describedBy on the input too\n    // see https://github.com/alphagov/accessible-autocomplete/issues/589\n    const domObserver = new MutationObserver((mutationsList, observer) => {\n        const childListMutation = mutationsList.some(mutation => mutation.type === 'childList' && mutation.addedNodes.length > 0);\n        const attributesMutation = mutationsList.some(mutation => {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                const targetElement = mutation.target;\n                return targetElement.tagName.toLowerCase() === 'input' && targetElement.getAttribute('type') === 'text';\n            }\n            return false;\n        });\n        //if (childListMutation) {\n        //    console.log('childListMutation');\n        //}\n        //if (attributesMutation) {\n        //    console.log('attributesMutation');\n        //}\n        if (childListMutation || attributesMutation) {\n            /*todo: create list of input ids outside of observer? */\n            languageSelects.forEach(function (select) {\n                const input = document.getElementById(select.id.replace('-select', ''));\n                // input should never be null now we're observing the DOM for changes, but we check it for extra safety\n                if (!input) {\n                    return;\n                }\n                const errorState = select.classList.contains('govuk-select--error');\n                addGovUkClasses(input, errorState);\n            });\n        }\n    });\n    domObserver.observe(element, { childList: true, subtree: true, attributes: true });\n    languageSelects.forEach(function (select) {\n        accessibleAutocomplete.enhanceSelectElement({\n            name: 'languageName',\n            defaultValue: '',\n            selectElement: select\n        });\n    });\n}\nfunction addGovUkClasses(input, errorState) {\n    if (!input.classList.contains('govuk-input')) {\n        input.classList.add('govuk-input');\n    }\n    if (errorState && !input.classList.contains('govuk-input--error')) {\n        input.classList.add('govuk-input--error');\n    }\n}\n/**\n * This function is used to update the \"Remove\" button text in the \"Add another\" component\n * and update the label text for each item in the \"Add another\" component when adding a new language item to the DOM.\n *\n * NOTE: Adding of DOM elements is done in the familyhubs-frontend FamilyHubsFrontend.AddAnother.prototype list.\n * Doing this UI update here as it makes sense being that it's only for the language page.\n */\nfunction handleUpdatingLanguageAddAnother() {\n    function updateAllRemoveButtonText() {\n        const items = document.querySelectorAll('.fh-add-another__item');\n        items.forEach((item, index) => {\n            const button = item.querySelector('.fh-add-another__remove-button');\n            if (button) {\n                button.textContent = `Remove language ${(index + 1)}`;\n            }\n        });\n    }\n    function updateAllLanguageLabelText() {\n        const items = document.querySelectorAll('.fh-add-another__item');\n        items.forEach((item, index) => {\n            const label = item.querySelector('label');\n            if (label) {\n                label.textContent = `Enter language ${(index + 1)}`;\n            }\n        });\n    }\n    // Observe DOM changes to react to new items being added/removed\n    const observer = new MutationObserver((mutationsList, observer) => {\n        for (const mutation of mutationsList) {\n            const addRemoveNodes = Array.from(mutation.addedNodes).concat(Array.from(mutation.removedNodes));\n            if (mutation.type === 'childList' && (addRemoveNodes.some(node => node.nodeName === 'FIELDSET'))) {\n                updateAllLanguageLabelText();\n                updateAllRemoveButtonText();\n            }\n        }\n    });\n    const container = document.getElementById('fh-add-another-id');\n    if (container) {\n        observer.observe(container, { childList: true, subtree: true });\n    }\n}\n//todo: this is a hack - we want setupLanguageAutocompleteWhenAddAnother to be in the generated js file.\n// if we export it, it includes the export keyword in the generated js file\n// (but we use export in the other ts files, without the js containing export!)\n// so as a workaround we call it where it no-ops\nsetupLanguageAutocompleteWhenAddAnother(null);\nhandleUpdatingLanguageAddAnother();\nexport {};\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,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QyxDQUFDO0FBQzlDLGdDQUFnQyxFQUFFLENBQUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuXG5kZWNsYXJlIGNvbnN0IGFjY2Vzc2libGVBdXRvY29tcGxldGU6IGFueTtcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICAgICAgZmhnb3Y6IGFueTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZoZ292KCkge1xuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzdG9yZUNvbmRpdGlvbmFsSW5wdXRzKCk7XG4gICAgICAgIGVuaGFuY2VBY2Nlc3NpYmxlQXV0b2NvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIGxldCByZXN0b3JlQ29uZGl0aW9uYWxJbnB1dHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY29uZGl0aW9uYWwtYWN0aXZlXVwiKTtcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5jbGljaygpXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8vdG9kbzogcmVwbGFjZSB0aGVzZSB3aXRoIHRoZSBuZXcgZnVsbCBwYWdlIGF1dG9jb21wbGV0ZSBjb21wb25lbnRcblxuICAgIGxldCBlbmhhbmNlQWNjZXNzaWJsZUF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvL1doaWNoTG9jYWxBdXRob3JpdHkuY3NodG1sICYmIEFkZE9yZ2FuaXNhdGlvbldoaWNoTG9jYWxBdXRob3JpdHkuY3NodG1sXG4gICAgICAgIGNvbnN0IG1vZGVsTGFPcmdhbmlzYXRpb25OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGVsTGFPcmdhbmlzYXRpb25OYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgaWYgKG1vZGVsTGFPcmdhbmlzYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBhY2Nlc3NpYmxlQXV0b2NvbXBsZXRlLmVuaGFuY2VTZWxlY3RFbGVtZW50KHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG1vZGVsTGFPcmdhbmlzYXRpb25OYW1lLnZhbHVlLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdMYU9yZ2FuaXNhdGlvbk5hbWUnLFxuICAgICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNMYU9yZ2FuaXNhdGlvbk5hbWUnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL1doaWNoVmNzT3JnYW5pc2F0aW9uLmNzaHRtbFxuICAgICAgICBjb25zdCBtb2RlbFZjc09yZ2FuaXNhdGlvbk5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kZWxWY3NPcmdhbmlzYXRpb25OYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgaWYgKG1vZGVsVmNzT3JnYW5pc2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgYWNjZXNzaWJsZUF1dG9jb21wbGV0ZS5lbmhhbmNlU2VsZWN0RWxlbWVudCh7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBtb2RlbFZjc09yZ2FuaXNhdGlvbk5hbWUudmFsdWUsXG4gICAgICAgICAgICAgICAgbmFtZTogJ1Zjc09yZ2FuaXNhdGlvbk5hbWUnLFxuICAgICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWY3NPcmdhbmlzYXRpb25OYW1lJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbndpbmRvdy5maGdvdiA9IG5ldyBmaGdvdigpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy5maGdvdi5pbml0KCk7XG59KTtcblxuZnVuY3Rpb24gc2V0dXBMYW5ndWFnZUF1dG9jb21wbGV0ZVdoZW5BZGRBbm90aGVyKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG5cbiAgICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsYW5ndWFnZVNlbGVjdHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzZWxlY3RbaWRePSdsYW5ndWFnZS0nXVwiKSBhcyBOb2RlTGlzdE9mPEhUTUxTZWxlY3RFbGVtZW50PjtcblxuICAgIC8qICAgIGNvbnNvbGUubG9nKCdlbmhhbmNpbmcgJyArIGxhbmd1YWdlU2VsZWN0cy5sZW5ndGggKyAnIGxhbmd1YWdlIHNlbGVjdHMnKTsqL1xuXG4gICAgLy8gd29yayBhcm91bmQgYWNjZXNzaWJsZS1hdXRvY29tcGxldGUgbm90IGhhbmRsaW5nIGVycm9ycyBvciB1c2luZyBzdGFuZGFyZCBnb3Z1ayBzdHlsaW5nIGNsYXNzZXNcbiAgICAvLyB0aGVyZSdzIGEgZGlzY3Vzc2lvbiBhYm91dCBoYW5kbGluZyBlcnJvcnMgaGVyZS4uLlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHBoYWdvdi9hY2Nlc3NpYmxlLWF1dG9jb21wbGV0ZS9pc3N1ZXMvNDI4XG4gICAgLy8gYnV0IHdlJ3ZlIGhhZCB0byBpbXBsZW1lbnQgb3VyIG93biAoaGFja3kpIHNvbHV0aW9uIGJ5IHVzaW5nIE11dGF0aW9uT2JzZXJ2ZXJcbiAgICAvLyBhbmQgYWRkaW5nIGV4dHJhIGNsYXNzZXMgKHdpdGggY3VzdG9tIGNzcykgdG8gdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgLy8gd2UgYXJlIG9ic2VydmluZyB0aGUgRE9NIGZvciBjaGFuZ2VzIGJlY2F1c2UgZW5oYW5jZVNlbGVjdEVsZW1lbnQoKSB1bHRpbWF0ZWx5XG4gICAgLy8gY2FsbHMgcmVuZGVyIGluIFBlYWN0LCB3aGljaCBzY2hlZHVsZXMgYW4gdXBkYXRlIHRvIHRoZSBET00sIHJhdGhlciB0aGFuIGltbWVkaWF0ZWx5IHVwZGF0aW5nIHRoZSBET00uXG4gICAgLy8gKGlmIHdlIGZvcmtlZCB0aGUgYWNjZXNzaWJsZS1hdXRvY29tcGxldGUgY29tcG9uZW50LCB3ZSBjb3VsZCB1c2UgY29tcG9uZW50RGlkTW91bnQgb3IgdXNlRWZmZWN0IGluc3RlYWQpLlxuICAgIC8vIHdlIGFsc28gb2JzZXJ2ZSBhbnkgY2hhbmdlcyB0byB0aGUgY2xhc3MgYXR0cmlidXRlIG9mIHRoZSB0ZXh0IGlucHV0IGVsZW1lbnRzLFxuICAgIC8vIGFzIGFueSBjaGFuZ2VzIHdlIG1ha2UgdG8gdGhlIGlucHV0IGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgY29tcG9uZW50IChvbiBmb2N1cyBldGMuKS5cblxuICAgIC8vIEkgd2FzIGdvaW5nIHRvIGVpdGhlciBwYWNrYWdlIHVwIHRoaXMgY29kZSBpbnRvIGFuIGV4cG9ydGVkIGZ1bmN0aW9uIHRvIGVhc2UgcmV1c2UgYW5kIG1haW50YW5lbmNlLFxuICAgIC8vIG9yIGZvcmsgdGhlIGFjY2Vzc2libGUtYXV0b2NvbXBsZXRlIHByZWFjdCBjb21wb25lbnQsXG4gICAgLy8gYnV0IHNvbWVvbmUgaXMgYWRkaW5nIG9mZmljaWFsIHN1cHBvcnQgdG9kYXkgKDIwMjQtMDEtMTIpIHNvIHdlIHNob3VsZCBiZSBhYmxlIHRvIHJlbW92ZSB0aGlzIHNvb24hXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FscGhhZ292L2FjY2Vzc2libGUtYXV0b2NvbXBsZXRlL3B1bGwvNjAyXG5cbiAgICAvL3RvZG86IGZpeCBhcmlhLWRlc2NyaWJlZEJ5IG9uIHRoZSBpbnB1dCB0b29cbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FscGhhZ292L2FjY2Vzc2libGUtYXV0b2NvbXBsZXRlL2lzc3Vlcy81ODlcblxuICAgIGNvbnN0IGRvbU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkTGlzdE11dGF0aW9uID0gbXV0YXRpb25zTGlzdC5zb21lKG11dGF0aW9uID0+IG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXNNdXRhdGlvbiA9IG11dGF0aW9uc0xpc3Quc29tZShtdXRhdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gbXV0YXRpb24udGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAndGV4dCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vaWYgKGNoaWxkTGlzdE11dGF0aW9uKSB7XG4gICAgICAgIC8vICAgIGNvbnNvbGUubG9nKCdjaGlsZExpc3RNdXRhdGlvbicpO1xuICAgICAgICAvL31cblxuICAgICAgICAvL2lmIChhdHRyaWJ1dGVzTXV0YXRpb24pIHtcbiAgICAgICAgLy8gICAgY29uc29sZS5sb2coJ2F0dHJpYnV0ZXNNdXRhdGlvbicpO1xuICAgICAgICAvL31cblxuICAgICAgICBpZiAoY2hpbGRMaXN0TXV0YXRpb24gfHwgYXR0cmlidXRlc011dGF0aW9uKSB7XG4gICAgICAgICAgICAvKnRvZG86IGNyZWF0ZSBsaXN0IG9mIGlucHV0IGlkcyBvdXRzaWRlIG9mIG9ic2VydmVyPyAqL1xuICAgICAgICAgICAgbGFuZ3VhZ2VTZWxlY3RzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0LmlkLnJlcGxhY2UoJy1zZWxlY3QnLCAnJykpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAvLyBpbnB1dCBzaG91bGQgbmV2ZXIgYmUgbnVsbCBub3cgd2UncmUgb2JzZXJ2aW5nIHRoZSBET00gZm9yIGNoYW5nZXMsIGJ1dCB3ZSBjaGVjayBpdCBmb3IgZXh0cmEgc2FmZXR5XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdGF0ZSA9IHNlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ2dvdnVrLXNlbGVjdC0tZXJyb3InKTtcblxuICAgICAgICAgICAgICAgIGFkZEdvdlVrQ2xhc3NlcyhpbnB1dCwgZXJyb3JTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZG9tT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlfSk7XG5cbiAgICBsYW5ndWFnZVNlbGVjdHMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0KSB7XG4gICAgICAgIGFjY2Vzc2libGVBdXRvY29tcGxldGUuZW5oYW5jZVNlbGVjdEVsZW1lbnQoe1xuICAgICAgICAgICAgbmFtZTogJ2xhbmd1YWdlTmFtZScsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgc2VsZWN0RWxlbWVudDogc2VsZWN0XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRHb3ZVa0NsYXNzZXMoaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQsIGVycm9yU3RhdGU6IGJvb2xlYW4pIHtcbiAgICBpZiAoIWlucHV0LmNsYXNzTGlzdC5jb250YWlucygnZ292dWstaW5wdXQnKSkge1xuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdnb3Z1ay1pbnB1dCcpO1xuICAgIH1cblxuICAgIGlmIChlcnJvclN0YXRlICYmICFpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2dvdnVrLWlucHV0LS1lcnJvcicpKSB7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2dvdnVrLWlucHV0LS1lcnJvcicpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gdXBkYXRlIHRoZSBcIlJlbW92ZVwiIGJ1dHRvbiB0ZXh0IGluIHRoZSBcIkFkZCBhbm90aGVyXCIgY29tcG9uZW50XG4gKiBhbmQgdXBkYXRlIHRoZSBsYWJlbCB0ZXh0IGZvciBlYWNoIGl0ZW0gaW4gdGhlIFwiQWRkIGFub3RoZXJcIiBjb21wb25lbnQgd2hlbiBhZGRpbmcgYSBuZXcgbGFuZ3VhZ2UgaXRlbSB0byB0aGUgRE9NLlxuICpcbiAqIE5PVEU6IEFkZGluZyBvZiBET00gZWxlbWVudHMgaXMgZG9uZSBpbiB0aGUgZmFtaWx5aHVicy1mcm9udGVuZCBGYW1pbHlIdWJzRnJvbnRlbmQuQWRkQW5vdGhlci5wcm90b3R5cGUgbGlzdC5cbiAqIERvaW5nIHRoaXMgVUkgdXBkYXRlIGhlcmUgYXMgaXQgbWFrZXMgc2Vuc2UgYmVpbmcgdGhhdCBpdCdzIG9ubHkgZm9yIHRoZSBsYW5ndWFnZSBwYWdlLlxuICovXG5mdW5jdGlvbiBoYW5kbGVVcGRhdGluZ0xhbmd1YWdlQWRkQW5vdGhlcigpIHtcbiAgICBmdW5jdGlvbiB1cGRhdGVBbGxSZW1vdmVCdXR0b25UZXh0KCkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maC1hZGQtYW5vdGhlcl9faXRlbScpO1xuXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5maC1hZGQtYW5vdGhlcl9fcmVtb3ZlLWJ1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICAgICAgaWYgKGJ1dHRvbikge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGBSZW1vdmUgbGFuZ3VhZ2UgJHsoaW5kZXggKyAxKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVBbGxMYW5ndWFnZUxhYmVsVGV4dCgpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmgtYWRkLWFub3RoZXJfX2l0ZW0nKTtcblxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGBFbnRlciBsYW5ndWFnZSAkeyhpbmRleCArIDEpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9ic2VydmUgRE9NIGNoYW5nZXMgdG8gcmVhY3QgdG8gbmV3IGl0ZW1zIGJlaW5nIGFkZGVkL3JlbW92ZWRcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGFkZFJlbW92ZU5vZGVzID0gQXJyYXkuZnJvbShtdXRhdGlvbi5hZGRlZE5vZGVzKS5jb25jYXQoQXJyYXkuZnJvbShtdXRhdGlvbi5yZW1vdmVkTm9kZXMpKTtcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JyAmJiAoYWRkUmVtb3ZlTm9kZXMuc29tZShub2RlID0+IG5vZGUubm9kZU5hbWUgPT09ICdGSUVMRFNFVCcpKSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHVwZGF0ZUFsbExhbmd1YWdlTGFiZWxUZXh0KCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlQWxsUmVtb3ZlQnV0dG9uVGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmgtYWRkLWFub3RoZXItaWQnKTtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyLCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7XG4gICAgfVxufVxuXG4vL3RvZG86IHRoaXMgaXMgYSBoYWNrIC0gd2Ugd2FudCBzZXR1cExhbmd1YWdlQXV0b2NvbXBsZXRlV2hlbkFkZEFub3RoZXIgdG8gYmUgaW4gdGhlIGdlbmVyYXRlZCBqcyBmaWxlLlxuLy8gaWYgd2UgZXhwb3J0IGl0LCBpdCBpbmNsdWRlcyB0aGUgZXhwb3J0IGtleXdvcmQgaW4gdGhlIGdlbmVyYXRlZCBqcyBmaWxlXG4vLyAoYnV0IHdlIHVzZSBleHBvcnQgaW4gdGhlIG90aGVyIHRzIGZpbGVzLCB3aXRob3V0IHRoZSBqcyBjb250YWluaW5nIGV4cG9ydCEpXG4vLyBzbyBhcyBhIHdvcmthcm91bmQgd2UgY2FsbCBpdCB3aGVyZSBpdCBuby1vcHNcbnNldHVwTGFuZ3VhZ2VBdXRvY29tcGxldGVXaGVuQWRkQW5vdGhlcihudWxsKTtcbmhhbmRsZVVwZGF0aW5nTGFuZ3VhZ2VBZGRBbm90aGVyKCk7XG4iXX0=\n"]}