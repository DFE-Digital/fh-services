@using Microsoft.AspNetCore.Http.Extensions
@model Service

@* todo: use summary list tag helpers *@

<div class="app-service">
    <div class="govuk-summary-list__row">
        <div class="govuk-summary-list__key">
            @*todo: description on view enum? - think it will come from db*@
            <span class="govuk-caption-m govuk-!-margin-top-3">@(Model.Type == ServiceType.FamilyHub ? "Family hub" : "Service and groups")</span>
            @if (Model.Type == ServiceType.Service)
            {
                <h3 class="govuk-heading-s govuk-!-margin-bottom-0"><a asp-page="/ServiceDetail/Index" asp-route-serviceId="@Model.ServiceId" asp-route-fromUrl="@Context.Request.GetEncodedPathAndQuery()">@Model.Name</a> <span class="govuk-!-font-weight-regular"> (@Model.Distance?.ToString("0.0") miles)</span></h3>
            }
            else
            {
                <h3 class="govuk-heading-s govuk-!-margin-bottom-0">@Model.Name <span class="govuk-!-font-weight-regular"> (@Model.Distance?.ToString("0.0") miles)</span></h3>
            }
        </div>
    </div>

    <dl class="govuk-summary-list govuk-summary-list--no-border">
            
        @if (Model.Type == ServiceType.Service)
        {
            <partial name="_SummaryListRows" model='("Category", Model.Categories)' />
            <partial name="_SummaryListRow" model='("Age range", Model.AgeRange)' />
        }

        @if (Model.Where.Any())
        {
            <partial name="_SummaryListRows" model='("Where", Model.Where)' />
        }

        <partial name="_SummaryListRows" model='("Delivery method", Model.DeliveryMethods)' />

        @if (Model.Type == ServiceType.Service)
        {
            <partial name="_SummaryListRows" model='("Cost", Model.Cost)' />
        }
    </dl>
</div>